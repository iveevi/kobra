default_compiler: clang++
default_standard: c++17

builds:
  - mercury_release:
    - sources: 'main.cpp, source/vulkan.cpp'
    - idirs: 'vendor/glm,
      include'
    - libraries: glfw, vulkan
  - experimental:
    - sources: 'experimental/main.cpp, glad/src/glad.c'
    - idirs: 'glad/include, thirdparty/glm'
    - libraries: glfw, dl
  - experimental_debug:
    - sources: 'experimental/main.cpp, glad/src/glad.c'
    - idirs: 'glad/include, thirdparty/glm'
    - libraries: glfw, dl
    - flags: '-g'

targets:
  - mercury:
    - builds:
      - default: mercury_release
    - postbuilds:
      - default: '{}'
  - exp:
    - modes: 'gdb'
    - builds:
      - default: experimental
      - gdb: experimental_debug
    - postbuilds:
      - default: '{}'
      - gdb: 'gdb {}'
